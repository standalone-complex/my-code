**3.7更新**  
目的：实现对指定目录的排序遍历，加入不同参数使输出形式不同。
执行my_ls <pathname> ,如果是文件就打印文件信息，如果是目录就遍历目录打印其中的文件信息，如果还有目录就递归执行以上过程，遍历完为止。  
先看参数是文件还是目录，使用文件中的参数判断，在这里做一个选择分支，是文件就直接打印然后结束，不是就继续程序。    
需要一串内存空间来存储遍历到的内容，再将这部分内容其中除了`.`和`..`之外的目录存储在另一块内存空间中...

这个程序中最基本的最普通的的关系是什么？  
从硬盘中对数据的读取  
谔谔，还是先读一读别人的源码⑧。
然后写两个数据处理相对简单的小程序  
然后再规划真正的ls对数据的处理方式  

关于头文件  
`stat`等获取文件信息函数在`sys/types.h` `sys/stat.h``unistd.h`中  
`opendir``closedir`函数在`sys/types.h``dirent.h`中  
`readdir`函数在`dirent.h`中  
**3月8日更新**  
逻辑很重要，对数据进行处理的逻辑，还有模块化的数据处理方式也很重要
先写两个小程序玩玩  
`S_ISDIR`函数，在`sys/stat.h`中，作用为判断一个路径是否为目录  

首先要解决的是对输入数据的解析，参数的处理，选择分支，文件还是目录的处理等等，先从这里入手。  
几个问题  
1 为何要给输入的目录或文件尾部加'/'  
是为了拿到文件名？  
2 为什么用于输出文件信息的函数`display`还需要从路径中解析出文件名，接收的形参不应该直接是文件名么  
因为`display_dir`调用了`display`  
3 为什么`display`函数对参数的处理整地像是一个目录似的  
因为`display_dir`调用了`display`  
在问题1中，其实用stat族函数应该也能获取文件名，没必要加`/`吧  
不过使用`/`获取文件名也不失为一种方法，比起重复的调用函数，能一个循环就解决还是不错的  
那么，在文件名最后加`\0`是否有必要呢？  还是有的吧 在传递参数的时候 识别字符串需要这个`\0`  
我现在明白为什么需要设置`path`变量了，大概是不想随便改`argv`，但是`argv`也没有`const`啊，`argv`里的字符串不应该是自带`\0`么  
写个程序试一下  
证明argv自带`\0`，也是，说明这个`\0`是为了补救被`/`覆盖的`\0`
那还是用stat族函数来获得文件信息吧  
绝了我之前写的读文件属性的程序哪去了  
找到了  
好家伙，原来加`/`的目的是这个，是为了在display_dir函数中连接路径用，好家伙。  
那就加⑧  
为什么`g_maxlen`要使用全局变量呢，是否在其他函数中也会用到这个变量？  
还有一个全局变量`g_leave_len`为一行剩余长度用于输出对齐，而且是已经有了定义的变量，这个变量的值会被改变吗，这个变量会在多个函数中被使用和赋值吗？  
我还是不想加`/`，就是在连接路径的时候多上两步罢了  
为啥，为啥没`-l`就要在最后打印换行符呢？  
挺有特色的，在目录里没有目录名，在文件里没有文件名  
如果不连接路径的话也行，就是需要先把工作目录切换，然后再使用`getcwd`函数获取绝对路径，就差不多了，先按书上的方法跑一边  
**3.9更新**  
今天从display往下写   
先从路径中解析文件名  
昨天遇到了一个问题  
没有`Linux/limits.h`头文件，导致`NAME_MAX`这个宏没有定义  
解决方法：将`/user/include/linux`下的`limits.h`移动到`/user/include`下（虽然在`/user/include`下也有一个头文件`limits.h`,但是二者的内容是不同的）  
新问题，输入参数没反应  
问题在`display_dir`函数中  
原来是我在`transform`函数中的`switch`没有加`break`，我服了  
完成了ls的`a`、`l`功能，还需要实现一个递归遍历功能和路径显示功能  
找两道算法题玩玩  
递归遍历目录应该要是一个递归函数   
重铸西邮荣光，我辈义不容辞  
先遍历输出所有文件，在遍历的过程中将目录文件存在数组里，然后把每一个目录进行递归调用，九折？  
**3.10更新**  
今天的任务是完成`ls`的`-R`功能
在递归遍历的时候注意`.`和`..`的忽略  
...如果以现在的`ls`在`display`里扩展出`-R`功能比较难，最好还是在判断路径文件是目录还是文件选择进入目录时做判断  
`display_dir_recurrence`函数流程  
设置字符串数组  
打开目录流  
遍历目录流文件，输出文件信息，如果文件是目录文件就存储到字符串数组中  
将字符串数组中的目录每一个递归调用`display_dir_recurrence`函数  
结束  




